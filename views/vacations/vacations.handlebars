<h1>Vacations</h1>
{{#each vacations}}
	<div class="vacation">
		<h3>{{name}}</h3>
		<p>{{description}}</p>
		{{#if inSeason}}
			<span class="price">{{price}}</span>
			<a href="/cart/add?sku={{sku}}" data-action="cart-add" data-sku="{{sku}}" class="btn btn-default">Buy Now!</a>
		{{else}}
			<span class="outOfSeason">
				We're sorry, this vacation is currently not in season.
				{{! The "notify me when this vacation is in season" page will be our next task. }}
			</span>
			<a href="/notify-me-when-in-season?sku={{sku}}">
				Notify me when this vacation is in season.
			</a>
		{{/if}}
	</div>
{{/each}}
<hr>
<p>Currency:
	<a href="/set-currency/USD" class="currency {{currencyUSD}}">USD</a> |
	<a href="/set-currency/GBP" class="currency {{currencyGBP}}">GBP</a> |
	<a href="/set-currency/BTC" class="currency {{currencyBTC}}">BTC</a>
</p>

{{#section 'head'}}
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
	<style>
	a.currency {
		text-decoration: none;
	}
	.currency.selected {
		font-weight: bold;
		font-size: 150%;
	}
	</style>
{{/section}}

{{#section 'jquery'}}
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
	<script>
		// $(document).ready(function(){
		// 	$('[data-action="cart-add"]').on('click', function(){
		// 		var $this = $(this);
		// 		$.post($this.attr('href'), { sku: $this.data('sku'), guests: 1 })
		// 			.done(function(){
		// 				cart.addItem($this.data('sku'));
		// 				$('<span class="badge">Vacation added!</span>')
		// 				.hide()
		// 				.insertAfter($this)
		// 				.fadeIn();
		// 			})
		// 			.fail(function(){
		// 				$('<span class="badge">Error! Please try again.</span>')
		// 				.hide()
		// 				.insertAfter($this)
		// 				.fadeIn();
		// 			});
		// 		return false;
		// 	})
		// })
	</script>
{{/section}}